<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>概述 | oDen7的个人博客</title><meta name="description" content="个人学习记录,成长日记">
    <link rel="modulepreload" href="/blog-md/assets/app.6fedde3f.js"><link rel="modulepreload" href="/blog-md/assets/index.html.4bbb970c.js"><link rel="modulepreload" href="/blog-md/assets/index.html.62ab8ecf.js"><link rel="prefetch" href="/blog-md/assets/index.html.ab3c9422.js"><link rel="prefetch" href="/blog-md/assets/algorithm-diagram-javascript.html.d3783933.js"><link rel="prefetch" href="/blog-md/assets/Hooks.html.7b039dff.js"><link rel="prefetch" href="/blog-md/assets/index.html.dca0fe25.js"><link rel="prefetch" href="/blog-md/assets/index.html.26ad4ede.js"><link rel="prefetch" href="/blog-md/assets/index.html.2ad3f693.js"><link rel="prefetch" href="/blog-md/assets/index.html.61fc4be8.js"><link rel="prefetch" href="/blog-md/assets/index.html.84ce6a5b.js"><link rel="prefetch" href="/blog-md/assets/index.html.47adfaac.js"><link rel="prefetch" href="/blog-md/assets/README.en.html.c83e3fcd.js"><link rel="prefetch" href="/blog-md/assets/index.html.dffa82ce.js"><link rel="prefetch" href="/blog-md/assets/index.html.0b32e39c.js"><link rel="prefetch" href="/blog-md/assets/index.html.b76919c6.js"><link rel="prefetch" href="/blog-md/assets/index.html.6d2541b7.js"><link rel="prefetch" href="/blog-md/assets/index.html.50dc1f84.js"><link rel="prefetch" href="/blog-md/assets/index.html.8132bd59.js"><link rel="prefetch" href="/blog-md/assets/index.html.8edf8f2b.js"><link rel="prefetch" href="/blog-md/assets/index.html.f6c02ab9.js"><link rel="prefetch" href="/blog-md/assets/index.html.bebfabd0.js"><link rel="prefetch" href="/blog-md/assets/index.html.367114cb.js"><link rel="prefetch" href="/blog-md/assets/index.html.9aa2cc7c.js"><link rel="prefetch" href="/blog-md/assets/index.html.da1c3588.js"><link rel="prefetch" href="/blog-md/assets/ README.html.84d3579e.js"><link rel="prefetch" href="/blog-md/assets/index.html.b599791d.js"><link rel="prefetch" href="/blog-md/assets/index.html.b5b19a54.js"><link rel="prefetch" href="/blog-md/assets/index.html.0f1bdbb7.js"><link rel="prefetch" href="/blog-md/assets/index.html.a2301f11.js"><link rel="prefetch" href="/blog-md/assets/index.html.a57a5c61.js"><link rel="prefetch" href="/blog-md/assets/index.html.b62087be.js"><link rel="prefetch" href="/blog-md/assets/index.html.b3b2965c.js"><link rel="prefetch" href="/blog-md/assets/index.html.e6455513.js"><link rel="prefetch" href="/blog-md/assets/index.html.bdb3378c.js"><link rel="prefetch" href="/blog-md/assets/index.html.33146d7b.js"><link rel="prefetch" href="/blog-md/assets/index.html.0c98d9c9.js"><link rel="prefetch" href="/blog-md/assets/index.html.3a5c8033.js"><link rel="prefetch" href="/blog-md/assets/index.html.a6dafd74.js"><link rel="prefetch" href="/blog-md/assets/index.html.37c7d5d8.js"><link rel="prefetch" href="/blog-md/assets/index.html.bd9133e4.js"><link rel="prefetch" href="/blog-md/assets/index.html.7fd7cfd1.js"><link rel="prefetch" href="/blog-md/assets/index.html.801c7fc0.js"><link rel="prefetch" href="/blog-md/assets/index.html.641c2c03.js"><link rel="prefetch" href="/blog-md/assets/index.html.04cb90be.js"><link rel="prefetch" href="/blog-md/assets/index.html.57632d5c.js"><link rel="prefetch" href="/blog-md/assets/index.html.85e59c47.js"><link rel="prefetch" href="/blog-md/assets/index.html.f27ad640.js"><link rel="prefetch" href="/blog-md/assets/index.html.df3e73ce.js"><link rel="prefetch" href="/blog-md/assets/index.html.5e827f97.js"><link rel="prefetch" href="/blog-md/assets/404.html.265028f6.js"><link rel="prefetch" href="/blog-md/assets/index.html.a8cb0d18.js"><link rel="prefetch" href="/blog-md/assets/algorithm-diagram-javascript.html.25ca4a32.js"><link rel="prefetch" href="/blog-md/assets/Hooks.html.92489b10.js"><link rel="prefetch" href="/blog-md/assets/index.html.80fe3d77.js"><link rel="prefetch" href="/blog-md/assets/index.html.12f61b95.js"><link rel="prefetch" href="/blog-md/assets/index.html.ac66fcd0.js"><link rel="prefetch" href="/blog-md/assets/index.html.dd2e923b.js"><link rel="prefetch" href="/blog-md/assets/index.html.e2e3f996.js"><link rel="prefetch" href="/blog-md/assets/index.html.d2e27964.js"><link rel="prefetch" href="/blog-md/assets/README.en.html.a6248170.js"><link rel="prefetch" href="/blog-md/assets/index.html.90d65a12.js"><link rel="prefetch" href="/blog-md/assets/index.html.bd52da39.js"><link rel="prefetch" href="/blog-md/assets/index.html.f624eb27.js"><link rel="prefetch" href="/blog-md/assets/index.html.e4ab534e.js"><link rel="prefetch" href="/blog-md/assets/index.html.71f21858.js"><link rel="prefetch" href="/blog-md/assets/index.html.fe8b11d4.js"><link rel="prefetch" href="/blog-md/assets/index.html.40cfc680.js"><link rel="prefetch" href="/blog-md/assets/index.html.4d22e281.js"><link rel="prefetch" href="/blog-md/assets/index.html.23ca009e.js"><link rel="prefetch" href="/blog-md/assets/index.html.ebdc63fe.js"><link rel="prefetch" href="/blog-md/assets/index.html.972144e5.js"><link rel="prefetch" href="/blog-md/assets/index.html.6020e784.js"><link rel="prefetch" href="/blog-md/assets/ README.html.97ed537c.js"><link rel="prefetch" href="/blog-md/assets/index.html.4c912dea.js"><link rel="prefetch" href="/blog-md/assets/index.html.76d88bbf.js"><link rel="prefetch" href="/blog-md/assets/index.html.2d03b2a8.js"><link rel="prefetch" href="/blog-md/assets/index.html.7ff4bea0.js"><link rel="prefetch" href="/blog-md/assets/index.html.285f0675.js"><link rel="prefetch" href="/blog-md/assets/index.html.fe2b7105.js"><link rel="prefetch" href="/blog-md/assets/index.html.e88b0492.js"><link rel="prefetch" href="/blog-md/assets/index.html.3fe4fd85.js"><link rel="prefetch" href="/blog-md/assets/index.html.c1e268ae.js"><link rel="prefetch" href="/blog-md/assets/index.html.2f933181.js"><link rel="prefetch" href="/blog-md/assets/index.html.bb90c40a.js"><link rel="prefetch" href="/blog-md/assets/index.html.81078ef5.js"><link rel="prefetch" href="/blog-md/assets/index.html.b8f03210.js"><link rel="prefetch" href="/blog-md/assets/index.html.a2eb606b.js"><link rel="prefetch" href="/blog-md/assets/index.html.a0d829d9.js"><link rel="prefetch" href="/blog-md/assets/index.html.e9e2a2a2.js"><link rel="prefetch" href="/blog-md/assets/index.html.c44afd79.js"><link rel="prefetch" href="/blog-md/assets/index.html.be136577.js"><link rel="prefetch" href="/blog-md/assets/index.html.09afc5db.js"><link rel="prefetch" href="/blog-md/assets/index.html.4fc1cb12.js"><link rel="prefetch" href="/blog-md/assets/index.html.43a651c8.js"><link rel="prefetch" href="/blog-md/assets/index.html.38a21aa9.js"><link rel="prefetch" href="/blog-md/assets/index.html.b126573b.js"><link rel="prefetch" href="/blog-md/assets/index.html.d14546c1.js"><link rel="prefetch" href="/blog-md/assets/404.html.5e866d20.js"><link rel="prefetch" href="/blog-md/assets/404.b7967342.js"><link rel="prefetch" href="/blog-md/assets/Layout.5e18a6bf.js">
    <link rel="stylesheet" href="/blog-md/assets/style.d0600aef.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/blog-md/" class=""><img class="logo" src="https://raw.githubusercontent.com/oDen7/blog-imgUrl/main/40536961.jpg" alt="oDen7的个人博客"><span class="site-name can-hide">oDen7的个人博客</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">前端 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item active collapsible">javascript <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">变量 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/javascript/%E5%8F%98%E9%87%8F/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">变量作用域内存 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/javascript/%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%86%85%E5%AD%98/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">数据类型 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/javascript/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">基本引用类型 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/javascript/%E5%9F%BA%E6%9C%AC%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item active">闭包 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog-md/front-end/javascript/%E9%97%AD%E5%8C%85/" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog-md/front-end/javascript/%E9%97%AD%E5%8C%85/#作用" class="router-link-active router-link-exact-active sidebar-item" aria-label="作用"><!--[--><!--]--> 作用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog-md/front-end/javascript/%E9%97%AD%E5%8C%85/#私有变量" class="router-link-active router-link-exact-active sidebar-item" aria-label="私有变量"><!--[--><!--]--> 私有变量 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog-md/front-end/javascript/%E9%97%AD%E5%8C%85/#静态私有变量" class="router-link-active router-link-exact-active sidebar-item" aria-label="静态私有变量"><!--[--><!--]--> 静态私有变量 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog-md/front-end/javascript/%E9%97%AD%E5%8C%85/#模块方式" class="router-link-active router-link-exact-active sidebar-item" aria-label="模块方式"><!--[--><!--]--> 模块方式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog-md/front-end/javascript/%E9%97%AD%E5%8C%85/#模块增强方式" class="router-link-active router-link-exact-active sidebar-item" aria-label="模块增强方式"><!--[--><!--]--> 模块增强方式 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">对象 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/javascript/%E5%AF%B9%E8%B1%A1/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">函数 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/javascript/%E5%87%BD%E6%95%B0/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">类 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/javascript/%E7%B1%BB/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">浏览器对象模型 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/javascript/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">模块 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/javascript/%E6%A8%A1%E5%9D%97/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">事件循环 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/javascript/%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">call,apply,bind <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/javascript/callApplyBind/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">双向数据绑定 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/javascript/%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">客户端检测 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/javascript/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A3%80%E6%B5%8B/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">vue <span class="right arrow"></span></p><!----></li><li><p tabindex="0" class="sidebar-item collapsible">react <span class="right arrow"></span></p><!----></li><li><p tabindex="0" class="sidebar-item collapsible">typescript <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">tsc <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/typescript/tsc/" class="sidebar-item" aria-label="typescript 编译"><!--[--><!--]--> typescript 编译 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">buildTools <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">使用webpack构建vue <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/buildTools/constructVue/" class="sidebar-item" aria-label="如何使用 webpack 自定义构建一个 vue 项目？"><!--[--><!--]--> 如何使用 webpack 自定义构建一个 vue 项目？ <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">nodejs <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">nodejs <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/nodejs/nodejs/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">包 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/nodejs/%E5%8C%85/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">核心模块 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/nodejs/%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">模块 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/nodejs/%E6%A8%A1%E5%9D%97/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">内存管理 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/nodejs/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" class="sidebar-item" aria-label="V8 的垃圾回收机制 与 内存限制"><!--[--><!--]--> V8 的垃圾回收机制 与 内存限制 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">异步IO <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/nodejs/%E5%BC%82%E6%AD%A5IO/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">异步编程 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-end/nodejs/%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">前端业务实现 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">上传 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">FileReader <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/front-business/%E4%B8%8A%E4%BC%A0/fileReader/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">计算机科学 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">数据结构 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">绪论 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/computer-science/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%BB%AA%E8%AE%BA/" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">个人项目 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">算法图解 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/blog-md/project/algorithm-diagram-javascript.html" class="sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">杂货铺 <span class="right arrow"></span></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="概述" tabindex="-1"><a class="header-anchor" href="#概述" aria-hidden="true">#</a> 概述</h1><blockquote><p>形成私有的执行上下文,是内部私有变量不受外界干扰,起到保护和保存的作用</p><p>引用另一个函数作用域中变量的函数</p><p>闭包允许函数访问并操作函数外部的变量。只要变量或函数存在于声明函数时的作用域内，闭包即可使函数能够访问这些变量或函数</p><p>本质上,闭包是将函数内部和函数外部链接起来的桥梁.</p></blockquote><h2 id="作用" tabindex="-1"><a class="header-anchor" href="#作用" aria-hidden="true">#</a> 作用</h2><ol><li><p>封装私有变量</p><ul><li>javascript 不支持声明私有变量</li><li>闭包内部的变量可以在闭包内访问，闭包外部不能直接访问闭包内部</li></ul></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Ninja</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 在构造函数内部声明一个变量，因为所声明的变量的作用域局限于构造函数的内部，所以它是一个“私有”变量。我们使用该变量统计 ninja 佯攻的次数</span>
  <span class="token keyword">var</span> feints <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getFeints</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 在构造函数内部声明一个变量，因为所声明的变量的作用域局限于构造函数的内部，所以它是一个“私有”变量。我们使用该变量统计 ninja 佯攻的次数</span>
    <span class="token keyword">return</span> feints<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">feint</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 为 feints 变量声明一个累加方法。由于 feints就私有变量，在外部是无法累加的，累加过程则被限制在我们提供的方法中</span>
    feints<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> ninja1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ninja</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ninja1<span class="token punctuation">.</span><span class="token function">feint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 验证我们无法直接获取该变量值</span>
<span class="token function">assert</span><span class="token punctuation">(</span>
  ninja1<span class="token punctuation">.</span>feints <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token string">&quot;And the private data is inaccessible to us.&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 虽然我们无法直接对 feints 变量赋值，但是我们仍然能够通过 getFeints 方法操作该变量的值</span>
<span class="token function">assert</span><span class="token punctuation">(</span>
  ninja1<span class="token punctuation">.</span><span class="token function">getFeints</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string">&quot;We&#39;re able to access the internal feint count.&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> ninja2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ninja</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 当我们通过 ninja构造函数创建一个新的 ninja2 实例时，ninja2 对象具有自己私有的 feints 变量</span>
<span class="token function">assert</span><span class="token punctuation">(</span>
  ninja2<span class="token punctuation">.</span><span class="token function">getFeints</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;The second ninja object gets its own feints variable.&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><p>回调函数</p><blockquote><p>需要在将来不确定的某一时刻异步调用的函数</p><p>通常在回调函数中,我们通常需要频繁访问外部数据</p></blockquote><ul><li>闭包内创建的变量可以通过内部的提供的函数读取和更新变量值</li><li>闭包不是在创建的那一时刻的状态的快照，而是一个真实的状态封装</li><li>实例无法访问其他闭包内的变量,除非具有层级关系</li></ul></li></ol><h1 id="全局上下文" tabindex="-1"><a class="header-anchor" href="#全局上下文" aria-hidden="true">#</a> 全局上下文</h1><ul><li><p>全局执行上下文</p><blockquote><p>全局执行上下文只有一个，当 JavaScript 程序开始执行时就已经创建了全局上下文</p></blockquote></li><li><p>函数执行上下文</p><blockquote><p>在每次调用函数时，就会创建一个新的函数上下文</p></blockquote></li><li><p>单线程的执行模型:</p><ol><li>在某个特定的时刻只能执行特定的代码。</li><li>函数调用时，当前的执行上下文必须停止执行，并创建新的函数执行上下文来执行函数。</li><li>函数执行完后，将函数执行上下文销毁，并重新回到调用前的执行上下文。</li></ol></li><li><p>执行上下文栈(调用栈) 执行:</p><ol><li>在每个 JavaScript 程序只创建一个全局执行上下文,并从全局执行上下文开始执行（在单页应用中每个页面只有一个全局执行上下文）.</li><li>当执行全局代码时，全局执行上下文处于活跃状态</li><li>声明调用函数时,JavaScript 引擎停止执行全局执行上下文并创建新的函数执行上下文,并置入执行上下文栈的顶部.</li><li>函数执行完后,会从函调用栈栈顶弹出,并重新激活一直等待的全局执行上下文并恢复执行.</li></ol></li></ul><h1 id="词法环境" tabindex="-1"><a class="header-anchor" href="#词法环境" aria-hidden="true">#</a> 词法环境</h1><blockquote><p>是 JavaScript 引擎内部用来跟踪标识符与特定变量之间的映射关系</p></blockquote><ul><li><p>代码嵌套与词法环境</p><blockquote><p>除了跟踪局部变量、函数声明、函数的参数和词法环境外，还有必要跟踪外部（父级）词法环境。</p></blockquote><ul><li><p>查找规则</p><ol><li>访问外部代码结构中的变量,如果在当前环境中无法找到标识符，就会对外部环境进行查找</li><li>查找到匹配的变量 或是 在全局环境中无法找到对应标识符而返回错误，就会停止查找</li></ol></li></ul></li><li><p>JavaScript 引擎是如何跟踪这些变量的呢？</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> ninja <span class="token operator">=</span> <span class="token string">&quot;muneyoshi&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">skulk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> action <span class="token operator">=</span> <span class="token string">&quot;skulking&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">report</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> intro <span class="token operator">=</span> <span class="token string">&quot;aha&quot;</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation">(</span>intro <span class="token operator">===</span> <span class="token string">&quot;aha&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;local&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&quot;skulking&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;outer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation">(</span>ninja <span class="token operator">===</span> <span class="token string">&quot;muneyoshi&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;global&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">report</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">skulk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//</span>
<span class="token comment">// global : 变量:ninja    skulk: function skulk(){}  [[Environment]] -&gt; 指向 global 环境</span>
<span class="token comment">// skulk : 变量:action    report: function report(){}  [[Environment]] -&gt; 指向 skulk 环境</span>
<span class="token comment">// report : 变量:intro</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="执行栈-global-skulk-report" tabindex="-1"><a class="header-anchor" href="#执行栈-global-skulk-report" aria-hidden="true">#</a> 执行栈: global -&gt; skulk -&gt; report</h5><h5 id="词法环境-1" tabindex="-1"><a class="header-anchor" href="#词法环境-1" aria-hidden="true">#</a> 词法环境</h5><ol><li>global <ul><li>变量:ninja</li><li>skulk: function skulk(){} [[Environment]] -&gt; 指向 global 环境</li></ul></li><li>skulk <ul><li>变量:action</li><li>report: function report(){} [[Environment]] -&gt; 指向 skulk 环境</li></ul></li><li>report <ul><li>变量:intro</li></ul></li></ol><h5 id="查找规则" tabindex="-1"><a class="header-anchor" href="#查找规则" aria-hidden="true">#</a> 查找规则</h5><ul><li><p>查找 intro</p><ol><li>在 report 环境中检查 -&gt; 找到</li></ol></li><li><p>查找 action</p><ol><li>在 report 环境中检查 -&gt; 未找到</li><li>检查 report 的 外层环境 skulk ,在 skulk 环境中检查 -&gt; 找到</li></ol></li><li><p>查找 ninja</p><ol><li>在 report 环境中检查 -&gt; 未找到</li><li>检查 report 的 外层环境 skulk ,在 skulk 环境中检查 -&gt; 未找到</li><li>检查 skulk 的 外层环境 global ,在 global 环境中检查 -&gt; 找到</li></ol></li><li><p>外部环境与新建的词法环境，JavaScript 引擎将调用函数的内置[[Environment]]属性与创建函数时的环境进行关联</p></li></ul><h1 id="立即调用的匿名函数" tabindex="-1"><a class="header-anchor" href="#立即调用的匿名函数" aria-hidden="true">#</a> 立即调用的匿名函数</h1><blockquote><p>立即调用的函数表达式（IIFE，Immediately Invoked Function Expression）</p></blockquote><ul><li>作用 <blockquote><p>使用 IIFE 可以模拟块级作用域，即在一个函数表达式内部声明变量，然后立即调用这个函数。</p><p>IIFE 内部 可以访问外部变量,但是 外部无能访问 IIFE 内部变量, 达到不暴露私有成员的目的</p></blockquote></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;12345&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 闭包会将函数提升置顶到当前作用域</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="私有变量" tabindex="-1"><a class="header-anchor" href="#私有变量" aria-hidden="true">#</a> 私有变量</h2><blockquote><p>JavaScript 没有私有成员的概念，所有对象属性都公有的。不过，倒是有私有变量的概念。</p><p>任何定义在函数或块中的变量，都可以认为是私有的，因为在这个函数或块的外部无法访问其中的变量。</p><p>私有变量包括函数参数、局部变量，以及函数内部定义的其他函数。</p></blockquote><ul><li>特权方法(privileged method) <blockquote><p>能够访问函数私有变量（及私有函数）的公有方法</p></blockquote></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 私有变量和私有函数</span>
  <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">getPrivateFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">setPrivateFun</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    age <span class="token operator">=</span> val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 特权方法</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getAgeMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">getPrivateFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">setAgeMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">setPrivateFun</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    name <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Nicholas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;Nicholas&#39;</span>
person<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;Greg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;Greg&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">getAgeMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 18</span>
person<span class="token punctuation">.</span><span class="token function">setAgeMethod</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">getAgeMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>

<span class="token comment">// 优点:变量唯一,方法唯一</span>
<span class="token comment">// 缺点:每个实例都会重新创建一遍新的变量和新方法</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="静态私有变量" tabindex="-1"><a class="header-anchor" href="#静态私有变量" aria-hidden="true">#</a> 静态私有变量</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;Nicholas&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>

  <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    age <span class="token operator">=</span> val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    name <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">setAge</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Nicholas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;Nicholas&#39;</span>
person<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;Greg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;Greg&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 18</span>
person<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>

<span class="token keyword">let</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 优点:同原型的实例共享</span>
<span class="token comment">// 缺点:没有私有变量和方法</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="模块方式" tabindex="-1"><a class="header-anchor" href="#模块方式" aria-hidden="true">#</a> 模块方式</h2><ul><li>单例对象 <blockquote><p>只有一个实例的对象</p></blockquote></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> singleton <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> value<span class="token punctuation">,</span>
  <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 方法的代码</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>模块方式 <blockquote><p>在单例对象基础上加以扩展，使其通过作用域链来关联私有变量和特权方法。</p></blockquote></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> singleton <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 私有变量和私有函数</span>
  <span class="token keyword">let</span> privateVariable <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">privateFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 特权/公有方法和属性</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">publicProperty</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function">publicMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      privateVariable<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token function">privateFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 模块模式使用了匿名函数返回一个对象。</span>
<span class="token comment">// 在匿名函数内部，首先定义私有变量和私有函数。</span>
<span class="token comment">// 创建一个要通过匿名函数返回的对象字面量</span>
<span class="token comment">// 只包含可以公开访问的属性和方法</span>
<span class="token comment">// 因为这个对象定义在匿名函数内部，所以它的所有公有方法都可以访问同一个作用域的私有变量和私有函数</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果单例对象需要进行某种初始化，并且需要访问私有变量时，那就可以采用这个模式</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> application <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 私有变量和私有函数</span>
  <span class="token keyword">let</span> components <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 初始化</span>
  components<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BaseComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 公共接口</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">getComponentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> components<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">registerComponent</span><span class="token punctuation">(</span><span class="token parameter">component</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> component <span class="token operator">==</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        components<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="模块增强方式" tabindex="-1"><a class="header-anchor" href="#模块增强方式" aria-hidden="true">#</a> 模块增强方式</h2><blockquote><p>在返回对象之前先对其进行增强 适合单例对象需要是某个特定类型的实例，但又必须给它添加额外属性或方法的场景</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> singleton <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 私有变量和私有函数</span>
  <span class="token keyword">let</span> privateVariable <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">privateFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 创建对象</span>
  <span class="token keyword">let</span> object <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 添加特权/公有属性和方法</span>
  object<span class="token punctuation">.</span>publicProperty <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  object<span class="token punctuation">.</span><span class="token function-variable function">publicMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    privateVariable<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">privateFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 返回对象</span>
  <span class="token keyword">return</span> object<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> application <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 私有变量和私有函数</span>
  <span class="token keyword">let</span> components <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 初始化</span>
  components<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BaseComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 公共接口</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">getComponentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> components<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">registerComponent</span><span class="token punctuation">(</span><span class="token parameter">component</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> component <span class="token operator">==</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        components<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 优化上个代码</span>
<span class="token keyword">let</span> application <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 私有变量和私有函数</span>
  <span class="token keyword">let</span> components <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 初始化</span>
  components<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BaseComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 创建局部变量保存实例</span>
  <span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BaseComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 公共接口</span>
  app<span class="token punctuation">.</span><span class="token function-variable function">getComponentCount</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> components<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  app<span class="token punctuation">.</span><span class="token function-variable function">registerComponent</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">component</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> component <span class="token operator">==</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      components<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 返回实例</span>
  <span class="token keyword">return</span> app<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 主要区别在于这里创建了一个名为 app 的变量，其中保存了 BaseComponent 组件的实例。</span>
<span class="token comment">// 这是最终要变成 application 的那个对象的局部版本。</span>
<span class="token comment">// 在给这个局部变量 app 添加了能够访问私有变量的公共方法之后，匿名函数返回了这个对象。</span>
<span class="token comment">// 然后，这个对象被赋值给 application</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: dengao99@126.com">oDen7</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/blog-md/assets/app.6fedde3f.js" defer></script>
  </body>
</html>
